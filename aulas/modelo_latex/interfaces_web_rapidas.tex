\documentclass{beamer}

\usepackage{aula}

\title{Interfaces web rápidas}
\date{\today}

\begin{document}
    
\input{capa}

% Slide 1
\begin{frame}[fragile]{Introdução ao Streamlit}
    \begin{itemize}
        \item Framework Python para aplicações web interativas
        \item Foco em simplicidade e prototipação rápida
        \item Executa com:
    \end{itemize}
    
\begin{minted}{shell}
pixi shell
pixi add streamlit 
streamlit run app.py
\end{minted}

    \vspace{0.3cm}
    
    \textbf{Principais conceitos:}
    \begin{itemize}
        \item Layout declarativo
        \item Widgets interativos
        \item Atualização automática da interface
    \end{itemize}
    \href{https://streamlit.io/}{Documentação (link)}
\end{frame}

% Slide 2
\begin{frame}[fragile]{Estrutura Básica da Aplicação}
    \begin{minted}[fontsize=\scriptsize]{python}
import streamlit as st
import matplotlib.pyplot as plt
import leafmap.foliumap as leafmap

st.title("Exemplo Streamlit + Matplotlib + Leafmap")

st.sidebar.header("Controles")

lat = st.sidebar.number_input("Latitude", value=-15.78)
lon = st.sidebar.number_input("Longitude", value=-47.93)
zoom_btn = st.sidebar.button("Zoom na coordenada")
    \end{minted}
    
    \begin{itemize}
        \item Sidebar contém widgets
        \item Valores são reavaliados a cada interação
    \end{itemize}
\end{frame}

% Slide 3
\begin{frame}[fragile]{Adicionando um Gráfico Matplotlib}
    \begin{minted}[fontsize=\scriptsize]{python}
st.subheader("Gráfico Matplotlib")

fig, ax = plt.subplots()
ax.plot([1, 2, 3, 4], [10, 20, 25, 30])
ax.set_title("Exemplo de gráfico")

st.pyplot(fig)
    \end{minted}
    
    \begin{itemize}
        \item Criamos a figura normalmente
        \item Usamos \texttt{st.pyplot()} para renderizar
    \end{itemize}
\end{frame}

% Slide 4
\begin{frame}[fragile]{Adicionando Mapa com Leafmap}
    \begin{minted}[fontsize=\scriptsize]{python}
st.subheader("Mapa Leafmap")

m = leafmap.Map(center=[lat, lon], zoom=4)

if zoom_btn:
    m.set_center(lon, lat, zoom=10)

m.add_marker(location=[lat, lon],
popup="Coordenada selecionada")

m.to_streamlit(height=500)
    \end{minted}
    
    \begin{itemize}
        \item Leafmap usa base Folium
        \item Botão altera o centro do mapa
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Exercício de Streamlit}
    Analisar:
\begin{itemize}
    \item   HTML gerado
    \item   Requests abertos
    \item   Debug
\end{itemize}
\end{frame}

\begin{frame}[fragile]{https://kepler.gl/}
    \url{https://kepler.gl/}
    Trabalho de alunos do 2o ano 2025: \url{https://mauriciodev.github.io/progcart/ipe2.html}
    % TODO: \usepackage{graphicx} required
    \begin{figure}
        %\caption{}
        %\label{fig:kepler}
        \includegraphics[width=\textwidth]{clientes_js_figs/kepler}
    \end{figure}
\end{frame}

\begin{frame}[fragile]{Dash e Plotly}
    Dash
\end{frame}

\begin{frame}[fragile]{Rerun}
    Rerun
\end{frame}

%\begin{frame}[fragile]{Código Python}
%   \begin{minted}{python}
%   def soma(a, b):
%  return a + b
%   \end{minted}
%\end{frame}
%
%\begin{frame}[fragile]{Código Python}
%   \begin{columns}[t]
%       \begin{column}[t]{0.48\textwidth}
%           
%           Versão \textbf{código aberto} do VS Code.
%           
%           \textbf{Usaremos para:}
%           \begin{itemize}
%               \item teste
%           \end{itemize}
%       \end{column}
%       
%       \begin{column}[t]{0.48\textwidth}
%           \colimage{./introducao_figs/ides.png}
%       \end{column}
%   \end{columns}   
%\end{frame}

\end{document}
